<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' ws://localhost:3001 wss://localhost:3001 wss://discord-clone-ws.onrender.com wss://*; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self' data: blob:">
  <title>MrDomestos*</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="theme-dark">
  <!-- Custom Title Bar -->
  <div class="titlebar">
    <div class="titlebar-drag">
      <span class="titlebar-title">‚ú¶ MrDomestos</span>
    </div>
    <div class="titlebar-controls">
      <button class="titlebar-btn" id="minimize-btn">
        <svg viewBox="0 0 12 12"><rect y="5" width="12" height="2" rx="1"/></svg>
      </button>
      <button class="titlebar-btn" id="maximize-btn">
        <svg viewBox="0 0 12 12"><rect x="1" y="1" width="10" height="10" rx="2" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>
      </button>
      <button class="titlebar-btn close" id="close-btn">
        <svg viewBox="0 0 12 12"><path d="M2 2l8 8M10 2L2 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      </button>
    </div>
  </div>

  <div class="version-badge">beta</div>
  
  <div class="app hidden" id="main-app">
    <!-- Servers Sidebar -->
    <nav class="servers" id="servers-list">
      <div class="server-btn home-btn active" data-view="home" title="–ì–ª–∞–≤–Ω–∞—è">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      </div>
      <div class="server-divider"></div>
      <div class="server-btn add-server" id="add-server-btn" title="–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
      </div>
      <div class="server-btn join-server" id="join-server-btn" title="–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
      </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-view home-view active" id="home-view">
        <div class="sidebar-header"><h2>‚ú¶ MrDomestos</h2></div>
        <div class="sidebar-nav">
          <button class="nav-btn active" id="friends-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            –î—Ä—É–∑—å—è
          </button>
        </div>
        <div class="sidebar-section">
          <div class="section-title">–õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</div>
          <div id="dm-list"></div>
        </div>
      </div>

      <div class="sidebar-view server-view" id="server-view">
        <div class="sidebar-header server-header">
          <h2 id="server-name">–°–µ—Ä–≤–µ—Ä</h2>
          <button class="icon-btn" id="server-menu-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
        </div>
        <div class="sidebar-section">
          <div class="section-title" data-category="text">
            <span>–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã</span>
            <button class="add-btn" id="add-channel-btn" title="–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button>
          </div>
          <div id="channel-list"></div>
          <div class="section-title" data-category="voice">
            <span>–ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã</span>
            <button class="add-btn" id="add-voice-btn" title="–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button>
          </div>
          <div id="voice-list"></div>
        </div>
      </div>

      <!-- User Panel -->
      <div class="user-panel">
        <div class="user-avatar" id="user-avatar"></div>
        <div class="user-info">
          <div class="user-name" id="user-name">–ì–æ—Å—Ç—å</div>
          <div class="user-status" id="user-status">–í —Å–µ—Ç–∏</div>
        </div>
        <div class="user-controls">
          <button id="mic-toggle" title="–ú–∏–∫—Ä–æ—Ñ–æ–Ω"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg></button>
          <button id="sound-toggle" title="–ó–≤—É–∫"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></svg></button>
          <button id="settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg></button>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <!-- Friends View -->
      <div class="main-view active" id="friends-view">
        <div class="main-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          <span>–î—Ä—É–∑—å—è</span>
          <div class="tabs">
            <button class="tab active" data-tab="online">–í —Å–µ—Ç–∏</button>
            <button class="tab" data-tab="all">–í—Å–µ</button>
            <button class="tab" data-tab="pending">–û–∂–∏–¥–∞–Ω–∏–µ <span class="pending-count" id="pending-count"></span></button>
            <button class="tab accent" data-tab="add">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </div>
        <div class="main-content">
          <div class="tab-content active" id="tab-online"><div id="online-users"></div></div>
          <div class="tab-content" id="tab-all"><div id="all-users"></div></div>
          <div class="tab-content" id="tab-pending"><div id="pending-users"></div></div>
          <div class="tab-content" id="tab-add">
            <div class="add-form">
              <h3>–î–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è</h3>
              <p>–ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–º–µ–Ω–∏</p>
              <div class="input-row">
                <input type="text" id="search-input" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                <button class="btn primary" id="search-btn">–ù–∞–π—Ç–∏</button>
              </div>
              <div id="search-results"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Chat View -->
      <div class="main-view" id="chat-view">
        <div class="main-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          <span id="channel-name">–æ–±—â–∏–π</span>
          <span class="typing" id="typing"></span>
          <div class="header-actions">
            <button class="icon-btn" id="search-channel-btn" title="–ü–æ–∏—Å–∫"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></button>
          </div>
        </div>
        <div class="messages" id="messages"></div>
        <div class="reply-bar" id="reply-bar">
          <div class="reply-info">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>
            <span>–û—Ç–≤–µ—Ç –¥–ª—è <strong class="reply-name"></strong></span>
            <span class="reply-text"></span>
          </div>
          <button class="reply-close" id="reply-close">&times;</button>
        </div>
        <div class="message-input">
          <button class="icon-btn" id="attach-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/></svg></button>
          <input type="file" id="file-input" hidden>
          <input type="text" id="msg-input" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ...">
          <button class="icon-btn" id="send-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
      </div>

      <!-- DM View -->
      <div class="main-view" id="dm-view">
        <div class="main-header dm-header">
          <div class="dm-user">
            <div class="avatar small" id="dm-header-avatar"></div>
            <span id="dm-header-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
          </div>
        </div>
        <div class="dm-content">
          <div class="dm-profile">
            <div class="dm-profile-avatar" id="dm-avatar"></div>
            <h2 class="dm-profile-name" id="dm-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>
            <p class="dm-profile-hint">–≠—Ç–æ –Ω–∞—á–∞–ª–æ –∏—Å—Ç–æ—Ä–∏–∏ –≤–∞—à–∏—Ö –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.</p>
          </div>
          <div class="messages" id="dm-messages"></div>
        </div>
        <div class="message-input">
          <button class="icon-btn" id="dm-attach-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/></svg></button>
          <input type="file" id="dm-file-input" hidden>
          <input type="text" id="dm-input" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ...">
          <button class="icon-btn" id="dm-send-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
      </div>

      <!-- Voice View -->
      <div class="main-view" id="voice-view">
        <div class="voice-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/></svg>
          <span id="voice-name">–ì–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª</span>
        </div>
        <div class="voice-grid" id="voice-grid"></div>
        <div class="voice-toolbar">
          <div class="voice-toolbar-group">
            <button class="voice-tool-btn" id="voice-mic" title="–ú–∏–∫—Ä–æ—Ñ–æ–Ω">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>
            </button>
            <button class="voice-tool-btn dropdown" id="voice-mic-settings">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </button>
            <button class="voice-tool-btn" id="voice-video" title="–í–∏–¥–µ–æ">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
            </button>
            <button class="voice-tool-btn dropdown" id="voice-video-settings">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </button>
          </div>
          <div class="voice-toolbar-group">
            <button class="voice-tool-btn" id="voice-noise" title="–®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><path d="M5 3L19 21" stroke-linecap="round"/></svg>
            </button>
            <button class="voice-tool-btn" id="voice-screen" title="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
            </button>
            <button class="voice-tool-btn" id="voice-activities" title="–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>
            </button>
            <button class="voice-tool-btn" id="voice-more" title="–ï—â—ë">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
            </button>
          </div>
          <button class="voice-leave-btn" id="voice-leave" title="–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"/></svg>
          </button>
        </div>
      </div>
    </main>

    <!-- Members Panel -->
    <aside class="members" id="members-panel">
      <div class="section-title">–í —Å–µ—Ç–∏ - <span id="online-count">0</span></div>
      <div id="members-online"></div>
      <div class="section-title">–ù–µ –≤ —Å–µ—Ç–∏ - <span id="offline-count">0</span></div>
      <div id="members-offline"></div>
    </aside>
  </div>

  <!-- Context Menus -->
  <div class="context-menu" id="server-context">
    <button data-action="invite"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å</button>
    <button data-action="settings"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    <div class="divider"></div>
    <button data-action="leave" class="danger"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>–ü–æ–∫–∏–Ω—É—Ç—å</button>
  </div>

  <!-- Channel Context Menu -->
  <div class="context-menu" id="channel-context">
    <button data-action="edit-channel"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª</button>
    <button data-action="clone-channel"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª</button>
    <div class="divider"></div>
    <button data-action="delete-channel" class="danger"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>–£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª</button>
  </div>

  <!-- Category Context Menu -->
  <div class="context-menu" id="category-context">
    <button data-action="create-channel"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª</button>
    <button data-action="edit-category"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
  </div>

  <!-- Message Context Menu -->
  <div class="context-menu message-context" id="message-context">
    <button data-action="reply"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>–û—Ç–≤–µ—Ç–∏—Ç—å</button>
    <button data-action="forward"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 14 20 9 15 4"/><path d="M4 20v-7a4 4 0 0 1 4-4h12"/></svg>–ü–µ—Ä–µ—Å–ª–∞—Ç—å</button>
    <div class="divider"></div>
    <button data-action="copy-text"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç</button>
    <div class="divider"></div>
    <button data-action="delete-message" class="danger"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>–£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
  </div>

  <!-- Auth Screen -->
  <div class="auth-screen active" id="auth-screen">
    <div class="auth-bg">
      <div class="planet planet-1"></div>
      <div class="planet planet-2"></div>
      <div class="stars"></div>
    </div>
    <div class="auth-container">
      <div class="auth-box" id="login-box">
        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h1>
        <p class="auth-subtitle">–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç MrDomestos</p>
        <div class="auth-form">
          <div class="auth-field">
            <input type="email" id="login-email" placeholder="Email" required>
          </div>
          <div class="auth-field password-field">
            <input type="password" id="login-pass" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <button type="button" class="show-pass" id="show-login-pass">–ü–æ–∫–∞–∑–∞—Ç—å</button>
          </div>
          <a href="#" class="forgot-link">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
          <button class="auth-btn" id="login-btn">–í–æ–π—Ç–∏</button>
          <div class="auth-divider"><span>–∏–ª–∏</span></div>
          <button class="auth-btn secondary" id="guest-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
            –í–æ–π—Ç–∏ –∫–∞–∫ –≥–æ—Å—Ç—å
          </button>
        </div>
        <p class="auth-footer">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="show-register">–°–æ–∑–¥–∞—Ç—å</a></p>
        <p class="error" id="login-error"></p>
      </div>
      
      <div class="auth-box hidden" id="register-box">
        <h1>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h1>
        <p class="auth-subtitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ MrDomestos</p>
        <div class="auth-form">
          <div class="auth-field">
            <input type="text" id="reg-name" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
          </div>
          <div class="auth-field">
            <input type="email" id="reg-email" placeholder="Email" required>
          </div>
          <div class="auth-field password-field">
            <input type="password" id="reg-pass" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <button type="button" class="show-pass" id="show-reg-pass">–ü–æ–∫–∞–∑–∞—Ç—å</button>
          </div>
          <button class="auth-btn" id="reg-btn">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
        </div>
        <p class="auth-footer">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="show-login">–í–æ–π—Ç–∏</a></p>
        <p class="error" id="reg-error"></p>
      </div>
    </div>
  </div>

  <div class="modal" id="settings-modal">
    <div class="modal-box large">
      <div class="modal-header"><h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="settings-layout">
        <div class="settings-nav">
          <button class="settings-tab active" data-settings="profile">–ü—Ä–æ—Ñ–∏–ª—å</button>
          <button class="settings-tab" data-settings="audio">–ì–æ–ª–æ—Å –∏ –≤–∏–¥–µ–æ</button>
        </div>
        <div class="settings-content">
          <div class="settings-panel active" id="settings-profile">
            <h3>–ü—Ä–æ—Ñ–∏–ª—å</h3>
            <div class="avatar-edit">
              <div class="avatar large" id="settings-avatar"></div>
              <div class="avatar-actions">
                <button class="btn" id="upload-avatar">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                <button class="btn secondary" id="remove-avatar">–£–¥–∞–ª–∏—Ç—å</button>
              </div>
              <input type="file" id="avatar-input" accept="image/*" style="display:none">
            </div>
            <div class="form-group"><label>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label><input type="text" id="settings-name"></div>
            <button class="btn primary" id="save-profile">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <div class="signout-section">
              <button class="btn danger" id="signout-btn">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
            </div>
          </div>
          <div class="settings-panel" id="settings-audio">
            <h3>–ì–æ–ª–æ—Å –∏ –≤–∏–¥–µ–æ</h3>
            <div class="form-group">
              <label>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–≤–æ–¥–∞</label>
              <div class="custom-select" id="mic-select-wrapper">
                <div class="custom-select-trigger" id="mic-select-trigger">
                  <span>–í—ã–±–µ—Ä–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω</span>
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="custom-select-options" id="mic-select-options"></div>
              </div>
              <input type="hidden" id="mic-select">
            </div>
            <div class="form-group">
              <label>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–≤–æ–¥–∞</label>
              <div class="custom-select" id="speaker-select-wrapper">
                <div class="custom-select-trigger" id="speaker-select-trigger">
                  <span>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–Ω–∞–º–∏–∫</span>
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="custom-select-options" id="speaker-select-options"></div>
              </div>
              <input type="hidden" id="speaker-select">
            </div>
            <div class="form-group">
              <label>–ì—Ä–æ–º–∫–æ—Å—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</label>
              <input type="range" id="mic-volume" min="0" max="100" value="100">
            </div>
            <div class="form-group mic-test-section">
              <label>–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</label>
              <p class="hint">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ ‚Äî –≤—ã —É—Å–ª—ã—à–∏—Ç–µ —Å–µ–±—è –≤ –Ω–∞—É—à–Ω–∏–∫–∞—Ö</p>
              <div class="mic-test-row">
                <button class="btn primary" id="mic-test-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/></svg>
                  <span>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω</span>
                </button>
                <div class="mic-level-container">
                  <div class="mic-level-bar" id="mic-level-bar"></div>
                </div>
              </div>
            </div>
            <button class="btn primary" id="save-audio">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>

        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="create-server-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="avatar-edit center">
          <div class="avatar large" id="new-server-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
          <button class="btn" id="upload-server-icon">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∫–æ–Ω–∫—É</button>
          <input type="file" id="server-icon-input" accept="image/*" hidden>
        </div>
        <div class="form-group"><label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞</label><input type="text" id="new-server-name" placeholder="–ú–æ–π —Å–µ—Ä–≤–µ—Ä"></div>
        <button class="btn primary full" id="create-server-btn">–°–æ–∑–¥–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <div class="modal" id="join-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="form-group"><label>–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</label><input type="text" id="invite-code" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥"></div>
        <button class="btn primary full" id="use-invite-btn">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        <p class="error" id="invite-error"></p>
      </div>
    </div>
  </div>

  <div class="modal" id="invite-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <p>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –¥—Ä—É–≥—É:</p>
        <div class="invite-code-box">
          <input type="text" id="invite-code-display" readonly>
          <button class="btn" id="copy-invite">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="channel-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="form-group"><label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</label><input type="text" id="new-channel-name" placeholder="–Ω–æ–≤—ã–π-–∫–∞–Ω–∞–ª"></div>
        <button class="btn primary full" id="create-channel-btn">–°–æ–∑–¥–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- Server Settings Modal -->
  <div class="modal" id="server-settings-modal">
    <div class="modal-box large">
      <div class="modal-header"><h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="settings-layout">
        <div class="settings-nav">
          <button class="settings-tab active" data-server-settings="overview">–û–±–∑–æ—Ä</button>
          <button class="settings-tab" data-server-settings="roles">–†–æ–ª–∏</button>
          <button class="settings-tab" data-server-settings="members">–£—á–∞—Å—Ç–Ω–∏–∫–∏</button>
          <button class="settings-tab" data-server-settings="bans">–ë–∞–Ω—ã</button>
          <button class="settings-tab danger-tab" data-server-settings="danger">–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</button>
        </div>
        <div class="settings-content">
          <div class="settings-panel active" id="server-settings-overview">
            <h3>–û–±–∑–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞</h3>
            <div class="avatar-edit center">
              <div class="avatar large" id="edit-server-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
              <button class="btn" id="change-server-icon">–ò–∑–º–µ–Ω–∏—Ç—å –∏–∫–æ–Ω–∫—É</button>
              <input type="file" id="edit-server-icon-input" accept="image/*" hidden>
            </div>
            <div class="form-group"><label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞</label><input type="text" id="edit-server-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞"></div>
            <button class="btn primary" id="save-server-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
          </div>
          <div class="settings-panel" id="server-settings-roles">
            <h3>–†–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞</h3>
            <div class="roles-header">
              <button class="btn primary" id="create-role-btn">+ –°–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å</button>
            </div>
            <div class="roles-list" id="roles-list"></div>
          </div>
          <div class="settings-panel" id="server-settings-members">
            <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞</h3>
            <div class="members-search">
              <input type="text" id="members-search-input" placeholder="–ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...">
            </div>
            <div class="members-list" id="server-members-list"></div>
          </div>
          <div class="settings-panel" id="server-settings-bans">
            <h3>–ó–∞–±–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
            <div class="bans-list" id="bans-list"><div class="empty">–ù–µ—Ç –∑–∞–±–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div></div>
          </div>
          <div class="settings-panel" id="server-settings-danger">
            <h3>–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h3>
            <div class="danger-zone">
              <div class="danger-item">
                <div class="danger-info">
                  <h4>–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</h4>
                  <p>–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å. –í—Å–µ –∫–∞–Ω–∞–ª—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.</p>
                </div>
                <button class="btn danger" id="delete-server-btn">–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Confirm Delete Modal -->
  <div class="modal" id="confirm-delete-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä?</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <p class="warning-text">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä <strong id="delete-server-name"></strong>?</p>
        <p class="warning-text">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!</p>
        <div class="form-group"><label>–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</label><input type="text" id="confirm-server-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞"></div>
        <div class="btn-row">
          <button class="btn secondary" data-close>–û—Ç–º–µ–Ω–∞</button>
          <button class="btn danger" id="confirm-delete-btn" disabled>–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Confirm Delete Channel Modal -->
  <div class="modal" id="confirm-delete-channel-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <p class="warning-text">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª <strong id="delete-channel-name"></strong>?</p>
        <p class="warning-text">–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ.</p>
        <div class="btn-row">
          <button class="btn secondary" data-close>–û—Ç–º–µ–Ω–∞</button>
          <button class="btn danger" id="confirm-delete-channel-btn">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Forward Message Modal -->
  <div class="modal" id="forward-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–ü–µ—Ä–µ—Å–ª–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="forward-preview">
          <div class="forward-msg" id="forward-msg-preview"></div>
        </div>
        <div class="form-group">
          <label>–í—ã–±–µ—Ä–∏—Ç–µ –∫—É–¥–∞ –ø–µ—Ä–µ—Å–ª–∞—Ç—å</label>
          <div class="forward-list" id="forward-list"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Channel Modal -->
  <div class="modal" id="edit-channel-modal">
    <div class="modal-box large">
      <div class="modal-header"><h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–∞</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="settings-layout">
        <div class="settings-nav">
          <button class="settings-tab active" data-channel-settings="overview">–û–±–∑–æ—Ä</button>
          <button class="settings-tab" data-channel-settings="permissions">–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</button>
          <div class="settings-nav-divider"></div>
          <button class="settings-tab danger-tab" id="delete-channel-from-settings">–£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª</button>
        </div>
        <div class="settings-content">
          <div class="settings-panel active" id="channel-settings-overview">
            <h3>–û–±–∑–æ—Ä</h3>
            <div class="form-group">
              <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</label>
              <input type="text" id="edit-channel-name" placeholder="–Ω–∞–∑–≤–∞–Ω–∏–µ-–∫–∞–Ω–∞–ª–∞">
            </div>
            <button class="btn primary" id="save-channel-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
          <div class="settings-panel" id="channel-settings-permissions">
            <h3>–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</h3>
            <p class="hint-text">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫—Ç–æ –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –∏ –ø–∏—Å–∞—Ç—å –≤ —ç—Ç–æ—Ç –∫–∞–Ω–∞–ª.</p>
            <div class="permissions-list">
              <div class="permission-item">
                <div class="permission-info">
                  <span class="permission-name">@everyone</span>
                  <span class="permission-desc">–í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞</span>
                </div>
                <div class="permission-toggles">
                  <label class="toggle-label">
                    <input type="checkbox" checked id="perm-everyone-view">
                    <span>–ü—Ä–æ—Å–º–æ—Ç—Ä</span>
                  </label>
                  <label class="toggle-label">
                    <input type="checkbox" checked id="perm-everyone-send">
                    <span>–û—Ç–ø—Ä–∞–≤–∫–∞</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Role Edit Modal -->
  <div class="modal" id="role-modal">
    <div class="modal-box">
      <div class="modal-header"><h2 id="role-modal-title">–°–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–∏</label>
          <input type="text" id="role-name-input" placeholder="–ù–æ–≤–∞—è —Ä–æ–ª—å">
        </div>
        <div class="form-group">
          <label>–¶–≤–µ—Ç —Ä–æ–ª–∏</label>
          <div class="color-picker">
            <input type="color" id="role-color-input" value="#99aab5">
            <span id="role-color-preview" style="background: #99aab5"></span>
          </div>
        </div>
        <div class="form-group">
          <label>–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</label>
          <div class="permissions-checkboxes">
            <label class="checkbox-label"><input type="checkbox" id="perm-send-messages" checked><span>–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-manage-messages"><span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-manage-channels"><span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-kick"><span>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-ban"><span>–ë–∞–Ω —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-manage-roles"><span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏</span></label>
          </div>
        </div>
        <div class="btn-row">
          <button class="btn secondary" data-close>–û—Ç–º–µ–Ω–∞</button>
          <button class="btn primary" id="save-role-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Member Actions Modal -->
  <div class="modal" id="member-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–º</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="member-profile">
          <div class="avatar large" id="member-modal-avatar"></div>
          <div class="member-modal-name" id="member-modal-name">–£—á–∞—Å—Ç–Ω–∏–∫</div>
        </div>
        <div class="form-group">
          <label>–ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å</label>
          <select id="member-role-select" class="form-select"></select>
        </div>
        <div class="btn-row">
          <button class="btn secondary" data-close>–ó–∞–∫—Ä—ã—Ç—å</button>
          <button class="btn primary" id="assign-role-btn">–ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å</button>
        </div>
        <div class="member-actions-danger">
          <button class="btn danger-outline" id="kick-member-btn">–ò—Å–∫–ª—é—á–∏—Ç—å</button>
          <button class="btn danger" id="ban-member-btn">–ó–∞–±–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Search Modal -->
  <div class="modal" id="search-modal">
    <div class="modal-box large">
      <div class="modal-header"><h2>–ü–æ–∏—Å–∫</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="search-input-row">
          <input type="text" id="global-search-input" placeholder="–ü–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π...">
          <button class="btn primary" id="global-search-btn">–ù–∞–π—Ç–∏</button>
        </div>
        <div class="search-results" id="global-search-results"></div>
      </div>
    </div>
  </div>

  <!-- Emoji Picker -->
  <div class="emoji-picker" id="emoji-picker">
    <div class="emoji-grid">
      <button class="emoji-btn" data-emoji="üëç">üëç</button>
      <button class="emoji-btn" data-emoji="üëé">üëé</button>
      <button class="emoji-btn" data-emoji="‚ù§Ô∏è">‚ù§Ô∏è</button>
      <button class="emoji-btn" data-emoji="üòÇ">üòÇ</button>
      <button class="emoji-btn" data-emoji="üòÆ">üòÆ</button>
      <button class="emoji-btn" data-emoji="üò¢">üò¢</button>
      <button class="emoji-btn" data-emoji="üò°">üò°</button>
      <button class="emoji-btn" data-emoji="üéâ">üéâ</button>
      <button class="emoji-btn" data-emoji="üî•">üî•</button>
      <button class="emoji-btn" data-emoji="üíØ">üíØ</button>
      <button class="emoji-btn" data-emoji="‚úÖ">‚úÖ</button>
      <button class="emoji-btn" data-emoji="‚ùå">‚ùå</button>
    </div>
  </div>

  <!-- Voice Settings Dropdown -->
  <div class="voice-dropdown" id="voice-mic-dropdown">
    <div class="voice-dropdown-header">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–≤–æ–¥–∞</div>
    <select id="voice-input-device" class="voice-device-select"></select>
    <div class="voice-dropdown-header">–ì—Ä–æ–º–∫–æ—Å—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</div>
    <input type="range" id="voice-input-volume" min="0" max="100" value="100" class="voice-slider">
    <div class="voice-dropdown-header">–®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ</div>
    <label class="voice-toggle">
      <input type="checkbox" id="voice-noise-toggle" checked>
      <span class="voice-toggle-slider"></span>
      <span class="voice-toggle-label">–í–∫–ª—é—á–µ–Ω–æ</span>
    </label>
    <button class="btn small" id="voice-test-mic">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω</button>
  </div>

  <script src="app.js"></script>
</body>
</html>
